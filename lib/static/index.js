!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t){e.exports=React},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},f=function(e){return e.replace(/~/g,"~1").replace(/\./g,"~0")},l=function(e){return e.replace(/~0/g,".").replace(/~1/g,"~")},p=function(e){if(Array.isArray(e))return e;if("string"==typeof e)return e.length?-1!==e.indexOf("~")?e.split(".").map(l):e.split("."):[];throw Error("State.prototype.cursor only accept string or array, "+(void 0===e?"undefined":i(e))+" is forbidden")},y=function(e){if("string"==typeof e)return e;if(Array.isArray(e))return e.map(f).join(".");throw Error("State.prototype.cursor only accept string or array, "+(void 0===e?"undefined":i(e))+" is forbidden")},h=function(e){return null==e},d=function(e){return"object"===(void 0===e?"undefined":i(e))&&null!==e},m=function(e){return!isNaN(e)&&""!==e},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Array.isArray(e)?[].concat(s(e)):d(e)?u({},e):m(t)?[]:{}},b=1,_=function(){return b+=1},g=function(e,t){var n=e.indexOf(t);if(-1!==n){for(var r=n,o=r+1,i=e.length;o<i;r+=1,o+=1)e[r]=e[o];e.pop()}},w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.data,r=t.maxSnapshots,o=void 0===r?1/0:r;a(this,e),this.__data=n,this.__maxSnapshots=o,this.__snapshots=[],this.__snapshotIndex=-1}return c(e,[{key:"read",value:function(e){return function(e,t){for(var n=e,r=0;r<t.length;r+=1){var o=t[r];if(h(n))return;n=n[o]}return n}(this.__data,e)}},{key:"write",value:function(e,t){this.__data=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2];if(!t.length)return n;var r={};r.HEAD=e;for(var o=r,i="HEAD",a=e,c=0;c<t.length;c+=1){var u=t[c];o[i]=v(a,u),o=o[i],i=u,a=h(a)?null:a[u]}return o[i]=n,r.HEAD}(this.__data,e,t)}},{key:"snapshot",value:function(){this.__snapshotIndex+=1,this.__snapshots[this.__snapshotIndex]=this.__data,this.__snapshots.length=this.__snapshotIndex+1,this.__snapshots.length>this.maxSnapshots&&(this.__snapshots.shift(),this.__snapshotIndex-=1)}},{key:"canUndo",value:function(){return this.__snapshotIndex>0}},{key:"undo",value:function(){if(!this.canUndo())throw new RangeError("no more snapshot available");this.__snapshotIndex-=1,this.__data=this.__snapshots[this.__snapshotIndex]}},{key:"canRedo",value:function(){return this.__snapshotIndex+1<this.__snapshots.length}},{key:"redo",value:function(){if(!this.canRedo())throw new RangeError("no more snapshot available");this.__snapshotIndex+=1,this.__data=this.__snapshots[this.__snapshotIndex]}}]),e}(),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&void 0===e.__noflux_id&&Object.defineProperty(e,"__noflux_id",{enumerable:!1,writable:!0,configurable:!0,value:_()}),e.__noflux_id},E=function e(){a(this,e),this.children={},this.subtreeListeners=[],this.ownListeners=[]},k=function(){function e(){a(this,e),this.__tree=new E}return c(e,[{key:"__traverse",value:function(e){var t=e.path,n=e.createEmptyPath,r=void 0!==n&&n,o=e.callbackBeforeRecursion,i=e.callbackAfterRecursion,a=e.callbackAtBottom,c=this.__tree,u=[];u.push(c);for(var s=0;s<=t.length;s+=1){if((s===t.length||!r&&void 0===c.children[t[s]])&&a){a(c,s);break}o&&o(c);var f=t[s];void 0===c.children[f]&&(c.children[f]=new E),c=c.children[f],u.push(c)}if(i)for(;u.length;)i(c=u.pop())}},{key:"addListener",value:function(e,t){var n=this;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return O(t,!0),this.__traverse({path:e,createEmptyPath:!0,callbackAfterRecursion:function(e){return e.subtreeListeners.push(t)},callbackAtBottom:function(e){return e.ownListeners.push(t)}}),function(){n.removeListener(e,t)}}},{key:"removeListener",value:function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');this.__traverse({path:e,callbackAfterRecursion:function(e){return g(e.subtreeListeners,t)},callbackAtBottom:function(e){return g(e.ownListeners,t)}})}},{key:"emit",value:function(e,t){var n=[];this.__traverse({path:e,callbackAtBottom:function(t,r){r===e.length&&n.push.apply(n,s(t.subtreeListeners))},callbackAfterRecursion:function(e){e.ownListeners.length&&n.push.apply(n,s(e.ownListeners))}});for(var r={},o=0;o<n.length;o+=1){var i=n[o],a=O(i);r[a]||(r[a]=!0,i(t))}}},{key:"on",value:function(e,t){return this.addListener(e,t)}},{key:"off",value:function(e,t){this.removeListener(e,t)}}]),e}(),j=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.store,r=void 0===n?new w:n,o=t.cursor,i=void 0===o?[]:o,c=t.emitters,u=void 0===c?{get:new k,set:new k}:c;a(this,e),this.__store=r,this.__cursor=i,this.__emitters=u}return c(e,[{key:"cursor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.__store,r=this.__cursor,o=this.__emitters;return t=p(t),new e({store:n,cursor:r.concat(t),emitters:o})}},{key:"get",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length;if(0!==t)return this.cursor(e).get();var n=this.__store.read(this.__cursor);return this.__emitters.get.emit(this.__cursor,{path:y(this.__cursor),value:n}),n}},{key:"set",value:function(e,t){var n=arguments.length;if(n<1)throw new TypeError("value argument must be set");if(1===n){var r=[void 0,e];e=r[0],t=r[1]}if(void 0!==e)return this.cursor(e).set(t);this.__store.write(this.__cursor,t),this.__emitters.set.emit(this.__cursor,{path:y(this.__cursor),value:t})}},{key:"update",value:function(e,t){var n=arguments.length;if(n<1)throw new TypeError("callback argument must be set");if(1===n){var r=[void 0,e];e=r[0],t=r[1]}if("function"!=typeof t)throw new TypeError("callback argument must be a function");var o=void 0===e?this:this.cursor(e);o.set(t(o.get()))}},{key:"__getEmitterByName",value:function(e){if(!this.__emitters[e])throw new Error("event not allowed");return this.__emitters[e]}},{key:"on",value:function(e,t){return this.__getEmitterByName(e).on(this.__cursor,t)}},{key:"addEventListener",value:function(e,t){return this.on(e,t)}},{key:"off",value:function(e,t){this.__getEmitterByName(e).off(this.__cursor,t)}},{key:"removeEventListener",value:function(e,t){this.off(e,t)}},{key:"snapshot",value:function(){this.__store.snapshot()}},{key:"canUndo",value:function(){return this.__store.canUndo()}},{key:"undo",value:function(){this.__store.undo(),this.__emitters.set.emit([],{path:y([]),value:this.__store.read([])})}},{key:"canRedo",value:function(){return this.__store.canRedo()}},{key:"redo",value:function(){this.__store.redo(),this.__emitters.set.emit([],{path:y([]),value:this.__store.read([])})}},{key:"__arrayOperator",value:function(e,t){var n,r=(n=this.get(),h(n)?[]:[].concat(s(n)));Array.prototype[e].apply(r,t),this.set(r)}},{key:"push",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.__arrayOperator("push",t)}},{key:"pop",value:function(){this.__arrayOperator("pop")}},{key:"unshift",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.__arrayOperator("unshift",t)}},{key:"shift",value:function(){this.__arrayOperator("shift")}},{key:"fill",value:function(e){this.__arrayOperator("fill",[e])}},{key:"reverse",value:function(){this.__arrayOperator("reverse")}},{key:"splice",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.__arrayOperator("splice",t)}}]),e}()),P="undefined"!=typeof performance&&performance&&performance.now?performance:Date,S=function(e){var t=e.prototype&&e.prototype.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||"Component"},R=!("undefined"==typeof window||!window.document||!window.document.createElement),x="function"==typeof Symbol&&Symbol.for?Symbol.for("noflux"):"__noflux",A=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},D=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},I=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},B=function(e){if(e[x])throw new SyntaxError("You should not use @connect for component "+S(e)+" more than once.");if(e[x]={},!R)return e;var t=function(t){function n(e){A(this,n);var t=I(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t[x]={getPaths:{},onSetDisposers:[],mounted:!1,isForcingUpdate:!1};var r=t[x],o=function(){if(r.mounted&&!r.isForcingUpdate){r.isForcingUpdate=!0;P.now();t.forceUpdate((function(){r.isForcingUpdate=!1;P.now()}))}};return r.onGetDisposer=j.on("get",(function(e){var t=e.path;r.isRendering&&!r.getPaths[t]&&(r.getPaths[t]=!0,r.onSetDisposers.push(j.cursor(t).on("set",o)))})),t}return D(n,t),T(n,[{key:"componentDidMount",value:function(){this[x].mounted=!0,C(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"componentDidMount",this)&&C(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"componentDidMount",this).call(this)}},{key:"componentWillUnmount",value:function(){var e=this[x];e.onSetDisposers.forEach((function(e){return e()})),e.onGetDisposer(),e.mounted=!1,C(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"componentWillUnmount",this)&&C(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"componentWillUnmount",this).call(this)}},{key:"render",value:function(){if(!C(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this))throw new Error("No render method found on the returned component instance of "+S(e)+", you may have forgotten to define render.");var t=this[x];t.isRendering=!0;var r=C(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).call(this);return t.isRendering=!1,r}}]),n}(e);return t.displayName="Connect("+S(e)+")",t},U=function(e,t,n){if(!e)throw new TypeError("@connect() is invalid, do you mean @connect ?");if(o=e,Boolean(o&&"function"==typeof o.render)&&t&&n)throw new SyntaxError("@connect should not be used for component method.");var o,i;if(i=e,!Boolean(i&&i.prototype&&"function"==typeof i.prototype.render)){if("function"!=typeof e)throw new TypeError("@connect should be used for React component");var a=function(t){function n(){return A(this,n),I(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return D(n,t),T(n,[{key:"render",value:function(){return e.call(this,this.props,this.context)}}]),n}(r.Component);return a.displayName="Connect("+S(e)+")",a.contextTypes=e.contextTypes,a.propTypes=e.propTypes,a.defaultProps=e.defaultProps,B(a)}return B(e)},N="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==N&&N,L="URLSearchParams"in N,F="Symbol"in N&&"iterator"in Symbol,V="FileReader"in N&&"Blob"in N&&function(){try{return new Blob,!0}catch(e){return!1}}(),M="FormData"in N,$="ArrayBuffer"in N;if($)var H=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],q=ArrayBuffer.isView||function(e){return e&&H.indexOf(Object.prototype.toString.call(e))>-1};function z(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function G(e){return"string"!=typeof e&&(e=String(e)),e}function K(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return F&&(t[Symbol.iterator]=function(){return t}),t}function W(e){this.map={},e instanceof W?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function J(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function X(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function Q(e){var t=new FileReader,n=X(t);return t.readAsArrayBuffer(e),n}function Y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Z(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:V&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:M&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:L&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():$&&V&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=Y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):$&&(ArrayBuffer.prototype.isPrototypeOf(e)||q(e))?this._bodyArrayBuffer=Y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):L&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},V&&(this.blob=function(){var e=J(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=J(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(Q)}),this.text=function(){var e,t,n,r=J(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=X(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},M&&(this.formData=function(){return this.text().then(ne)}),this.json=function(){return this.text().then(JSON.parse)},this}W.prototype.append=function(e,t){e=z(e),t=G(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},W.prototype.delete=function(e){delete this.map[z(e)]},W.prototype.get=function(e){return e=z(e),this.has(e)?this.map[e]:null},W.prototype.has=function(e){return this.map.hasOwnProperty(z(e))},W.prototype.set=function(e,t){this.map[z(e)]=G(t)},W.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},W.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),K(e)},W.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),K(e)},W.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),K(e)},F&&(W.prototype[Symbol.iterator]=W.prototype.entries);var ee=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function te(e,t){if(!(this instanceof te))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof te){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new W(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new W(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),ee.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function ne(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function re(e,t){if(!(this instanceof re))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new W(t.headers),this.url=t.url||"",this._initBody(e)}te.prototype.clone=function(){return new te(this,{body:this._bodyInit})},Z.call(te.prototype),Z.call(re.prototype),re.prototype.clone=function(){return new re(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new W(this.headers),url:this.url})},re.error=function(){var e=new re(null,{status:0,statusText:""});return e.type="error",e};var oe=[301,302,303,307,308];re.redirect=function(e,t){if(-1===oe.indexOf(t))throw new RangeError("Invalid status code");return new re(null,{status:t,headers:{location:e}})};var ie=N.DOMException;try{new ie}catch(e){(ie=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),ie.prototype.constructor=ie}function ae(e,t){return new Promise((function(n,r){var o=new te(e,t);if(o.signal&&o.signal.aborted)return r(new ie("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}i.onload=function(){var e,t,r={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new W,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};r.url="responseURL"in i?i.responseURL:r.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;setTimeout((function(){n(new re(o,r))}),0)},i.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},i.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},i.onabort=function(){setTimeout((function(){r(new ie("Aborted","AbortError"))}),0)},i.open(o.method,function(e){try{return""===e&&N.location.href?N.location.href:e}catch(t){return e}}(o.url),!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&(V?i.responseType="blob":$&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(i.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof W?o.headers.forEach((function(e,t){i.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){i.setRequestHeader(e,G(t.headers[e]))})),o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",a)}),i.send(void 0===o._bodyInit?null:o._bodyInit)}))}function ce(e,t){console.warn(`action [${e}] <=`,t);return fetch("/__/data/"+e,{method:"POST",body:JSON.stringify(t)}).then(e=>e.json()).then(t=>{if(0===t.state)return console.warn(`action [${e}] =>`,t.model),t.model;throw console.error(`action [${e}] =>`,t.error),console.warn(t.stack),new Error("server error")})}ae.polyfill=!0,N.fetch||(N.fetch=ae,N.Headers=W,N.Request=te,N.Response=re);const ue={scanDevices:async e=>{const t=e;if(t.length>0){const e=t[0];e.selected=!0,await se.findVolumns({device:{name:e.name}})}j.set("devices",t)},lockDevice:e=>{const t=e,n=j.get("devices").map(e=>e.name===t.name?t:e);j.set("devices",n)},unlockDevice:e=>{const t=e,n=j.get("devices").map(e=>e.name===t.name?t:e);j.set("devices",n)},findVolumns:e=>{const t=e;j.set("volumns",t)},findRecords:e=>{const t=e;j.set("records",t)},killRecord:e=>{}},se=new Proxy({},{get:(e,t)=>async e=>{const n=await ce(t,e),r=ue[t];return r&&await r(n),n}}),fe={initialize:function(){j.set({devices:[],volumns:[],records:[]})},raiseQuery:ce,action:se};n(1);function le(e){return o.a.createElement("i",{className:"icon"},e.name)}n(2);function pe(e){var t=e.size,n=e.icon,i=e.children;return o.a.createElement("button",{className:Object(r.cls)("button",t),onClick:e.onClick},o.a.createElement(le,{name:n}),i&&o.a.createElement("span",null,i))}n(3);function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var o=_e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be(this,n)}}function be(e,t){return!t||"object"!==ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(a,e);var t,n,r,i=ve(a);function a(){return he(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=(e.type,e.defaultValue),n=e.onChange;return o.a.createElement("input",{className:"input",defaultValue:t,onChange:n})}}])&&de(t.prototype,n),r&&de(t,r),a}(r.Component);n(4);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Oe(i,r,o,a,c,"next",e)}function c(e){Oe(i,r,o,a,c,"throw",e)}a(void 0)}))}}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Re(this,n)}}function Re(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(u,e);var t,n,r,i,a,c=Se(u);function u(){return ke(this,u),c.apply(this,arguments)}return t=u,(n=[{key:"componentDidMount",value:(a=Ee((function*(){yield se.scanDevices()})),function(){return a.apply(this,arguments)})},{key:"lockDevice",value:(i=Ee((function*(e){if(!e.secure.locked){(e=yield se.lockDevice({device:{name:e.name}})).selected=!0;var t=j.get("devices").map((function(t){return t.name===e.name?e:t}));j.set("devices",t)}})),function(e){return i.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=j.get("devices");return o.a.createElement("div",{className:"device-list"},o.a.createElement("ul",null,t.map((function(t){return o.a.createElement("li",{key:t.name,onClick:function(){return e.lockDevice(t)}},o.a.createElement("span",null,t.name),o.a.createElement(le,{name:t.secure.locked?"lock":"lock_open"}))}))))}}])&&je(t.prototype,n),r&&je(t,r),u}(r.Component),Te=U(Ae);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){De(i,r,o,a,c,"next",e)}function c(e){De(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ve(e,t,n){return t&&Fe(e.prototype,t),n&&Fe(e,n),e}function Me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var o=Ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qe(this,n)}}function qe(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?ze(e):t}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return We(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Je(e,t){var n=Ke(e,2),i=n[0],a=n[1],c=t.entityName,u=t.validator,s="".concat(c,"-list-item");return function(e){Me(n,e);var t=He(n);function n(e){var r;Le(this,n),r=t.call(this,e);var o=e.model;return r.state={input:o.$temp?{}:Ue({},o),error:null,stage:o.$temp?"editor":"viewer"},r}return Ve(n,[{key:"changeInput",value:function(e,t){var n=this.state.input;n[e]=t,this.setState({input:n})}},{key:"activeInput",value:function(){this.setState({stage:"editor"})}},{key:"cancelInput",value:function(){this.props.model.$temp?this.raiseRemove():this.setState({stage:"viewer"})}},{key:"raiseSelect",value:function(){this.props.onSelect&&this.props.onSelect()}},{key:"raiseRemove",value:function(){this.props.onRemove&&this.props.onRemove()}},{key:"raiseUpdate",value:function(){var e=this.state.input;if(u){var t=u(e);if(this.setState({error:t}),t)return void console.error(t)}this.setState({stage:"viewer"}),this.props.onUpdate&&this.props.onUpdate(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.stage,c=t.input,u=this.props,f=u.model,l=u.selected;return o.a.createElement("li",{className:Object(r.cls)(s,l&&"active")},"editor"===n&&o.a.createElement(i,{model:f,input:c,onCancel:function(){return e.cancelInput()},onUpdate:function(){return e.raiseUpdate()},onChange:function(t,n){return e.changeInput(t,n)}}),"viewer"===n&&o.a.createElement(a,{model:f,selected:l,onSelect:function(){return e.raiseSelect()},onActive:function(){return e.activeInput()},onRemove:function(){return e.raiseRemove()}}))}}]),n}(r.Component)}function Xe(e,t){var n=Ke(e,3),i=n[0],a=n[1],c=n[2],u=t.entityName,s=t.entityKey,f=void 0===s?"key":s,l=t.dataSource,p="".concat(u,"-list"),y=function(e){Me(s,e);var t,n,r,u=He(s);function s(e){var t;return Le(this,s),(t=u.call(this,e)).state={model:[]},t.idgen=1,a&&(a.prototype.parent=ze(t)),c&&(c.prototype.parent=ze(t)),t}return Ve(s,[{key:"createItem",value:function(){var e=this.state.model;e.unshift({$temp:this.idgen}),this.idgen+=1,this.setState({model:e})}},{key:"selectItem",value:(r=Ie((function*(e){yield l.select(e)})),function(e){return r.apply(this,arguments)})},{key:"removeItem",value:(n=Ie((function*(e){e.$temp||(yield l.delete(e));var t=this.state.model,n=t.indexOf(e);n>=0&&(t.splice(n,1),this.setState({model:t}))})),function(e){return n.apply(this,arguments)})},{key:"updateItem",value:(t=Ie((function*(e,t){var n=yield l.update(e,t),r=this.state.model,o=r.indexOf(e);o>=0&&(r.splice(o,1,n),this.setState({model:r}))})),function(e,n){return t.apply(this,arguments)})},{key:"reconcileModel",value:function(){var e=this.state.model,t=l.source(),n=[];return e.forEach((function(e){e.$temp&&n.push(e)})),t.forEach((function(t){var r=e.find((function(e){return e[f]===t[f]}));n.push(r||t)})),n}},{key:"render",value:function(){var e=this,t=this.reconcileModel();return o.a.createElement("div",{className:p},a&&o.a.createElement(a,null),t.length>0&&o.a.createElement("ul",null,t.map((function(t){return o.a.createElement(i,{key:t[f]||"temp-".concat(t.$temp),model:t,selected:t.selected,onSelect:function(){return e.selectItem(t)},onRemove:function(){return e.removeItem(t)},onUpdate:function(n){return e.updateItem(t,n)}})}))),c&&o.a.createElement(c,null))}}]),s}(r.Component);return U(y)}function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t,n){return t&&Ze(e.prototype,t),n&&Ze(e,n),e}function tt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=it(e);if(t){var o=it(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ot(this,n)}}function ot(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var at=Je([function(e){tt(n,e);var t=rt(n);function n(){return Ye(this,n),t.apply(this,arguments)}return et(n,[{key:"render",value:function(){var e=this.props,t=e.model,n=e.onChange,r=e.onUpdate,i=e.onCancel;return o.a.createElement("div",null,o.a.createElement(ge,{defaultValue:t.name,onChange:function(e){return n("name",e.target.value)}}),o.a.createElement(pe,{icon:"save",onClick:r}),o.a.createElement(pe,{icon:"close",onClick:i}))}}]),n}(r.Component),function(e){tt(n,e);var t=rt(n);function n(){return Ye(this,n),t.apply(this,arguments)}return et(n,[{key:"render",value:function(){var e=this.props,t=e.model,n=e.onActive,r=e.onRemove,i=e.onSelect,a=e.selected;return o.a.createElement("div",{className:"viewer",onClick:i},o.a.createElement("div",{className:"logo"},o.a.createElement("img",null)),o.a.createElement("div",{className:"info"},o.a.createElement("div",null,t.name),a&&o.a.createElement("div",{className:"action"},o.a.createElement(pe,{size:"small",icon:"edit",onClick:n},"edit"),o.a.createElement(pe,{size:"small",icon:"delete",onClick:r},"remove"))))}}]),n}(r.Component)],{entityName:"volumn"});n(5);function ct(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ut(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ct(i,r,o,a,c,"next",e)}function c(e){ct(i,r,o,a,c,"throw",e)}a(void 0)}))}}function st(e){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dt(e);if(t){var o=dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ht(this,n)}}function ht(e,t){return!t||"object"!==st(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mt,vt,bt,_t=Xe([at,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(a,e);var t,n,r,i=yt(a);function a(){return ft(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"header"},o.a.createElement(ge,{onChange:function(t){return e.filterVolumn(t.target.value)}}),o.a.createElement(pe,{icon:"add",onClick:function(){return e.parent.createItem()}}))}}])&&lt(t.prototype,n),r&&lt(t,r),a}(r.Component)],{entityName:"volumn",entityKey:"name",dataSource:{source:function(){return j.get("volumns")},select:(bt=ut((function*(e){var t=j.get("volumns").map((function(t){return t.name===e.name?(e.selected=!0,e):(t.selected=!1,t)}));j.set("volumns",t);var n=j.get("devices").find((function(e){return e.selected}));yield se.findRecords({device:{name:n.name},volumn:{name:e.name}})})),function(e){return bt.apply(this,arguments)}),delete:(vt=ut((function*(e){var t=j.get("devices").find((function(e){return e.selected}));yield se.killVolumn({device:{name:t.name},volumn:{name:e.name}}),yield se.findVolumns({device:{name:t.name}})})),function(e){return vt.apply(this,arguments)}),update:(mt=ut((function*(e,t){var n=j.get("devices").find((function(e){return e.selected}));return yield se.editVolumn({device:{name:n.name},volumn:t}),yield se.findVolumns({device:{name:n.name}}),t})),function(e,t){return mt.apply(this,arguments)})}});function gt(e){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t,n){return t&&Ot(e.prototype,t),n&&Ot(e,n),e}function kt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rt(e);if(t){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return St(this,n)}}function St(e,t){return!t||"object"!==gt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xt=Je([function(e){kt(n,e);var t=Pt(n);function n(){return wt(this,n),t.apply(this,arguments)}return Et(n,[{key:"render",value:function(){var e=this.props,t=e.model,n=e.input,r=e.onChange,i=e.onUpdate,a=e.onCancel;return o.a.createElement("div",null,o.a.createElement(ge,{placeholder:"name",defaultValue:t.name,onChange:function(e){return r("name",e.target.value)}}),o.a.createElement(ge,{placeholder:"value",defaultValue:t.value,onChange:function(e){return r("value",e.target.value)}}),o.a.createElement("input",{type:"checkbox",checked:n.seal,onChange:function(e){return r("seal",e.target.checked)}}),o.a.createElement("div",null,o.a.createElement(pe,{icon:"save",onClick:i}),o.a.createElement(pe,{icon:"close",onClick:a})))}}]),n}(r.Component),function(e){kt(n,e);var t=Pt(n);function n(e){var r;return wt(this,n),(r=t.call(this,e)).state={model:{unsealedValue:!1}},r}return Et(n,[{key:"render",value:function(){var e=this.props,t=e.model,n=e.onActive,r=e.onRemove,i=e.onSelect;return o.a.createElement("div",{className:"record-viewer",onClick:i},o.a.createElement("div",{className:"field-name"},t.name),o.a.createElement("div",null,"type = ",t.type),o.a.createElement("div",{className:"field-value"},t.seal?this.state.model.unsealedValue&&"***":t.value),o.a.createElement(pe,{icon:"edit",onClick:n}),o.a.createElement(pe,{icon:"delete",onClick:r}))}}]),n}(r.Component)],{entityName:"record"});n(6);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ct(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ct(i,r,o,a,c,"next",e)}function c(e){Ct(i,r,o,a,c,"throw",e)}a(void 0)}))}}function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){return(Nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Vt(e);if(t){var o=Vt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ft(this,n)}}function Ft(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nt(e,t)}(a,e);var t,n,r,i=Lt(a);function a(){return Bt(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this,t=j.get("volumns").find((function(e){return e.selected}));return console.log("volumn",t),t?o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"detail"},o.a.createElement("div",{className:"logo"},o.a.createElement("img",null)),o.a.createElement("div",{className:"info"},o.a.createElement("h1",null,t.name))),o.a.createElement("div",{className:"action"},o.a.createElement(pe,{icon:"add",onClick:function(){return e.parent.createItem()}},"add record"))):o.a.createElement("div",{className:"header"},"empty")}}])&&Ut(t.prototype,n),r&&Ut(t,r),a}(r.Component),$t=Xe([xt,U(Mt)],{entityName:"record",entityKey:"id",dataSource:{source:function(){return j.get("records")},select:function(){},delete:function(){var e=Dt((function*(e){var t=j.get("devices").find((function(e){return e.selected})),n=j.get("volumns").find((function(e){return e.selected})),r=j.get("records");yield se.killRecord({device:{name:t.name},volumn:{name:n.name},record:{id:e.id}});var o=r.findIndex((function(t){return t.id===e.id}));o>=0&&j.cursor("records").splice(o,1)}));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Dt((function*(e,t){var n=j.get("devices").find((function(e){return e.selected})),r=j.get("volumns").find((function(e){return e.selected})),o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){Tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);if(e.$temp&&(o.id=void 0),yield se.editRecord({device:{name:n.name},volumn:{name:r.name},record:o}).then((function(e){o.id=e.id})),e.$temp)j.cursor("records").push(o);else{var i=j.get("records").findIndex((function(t){return t.id===e.id}));j.cursor("records").splice(i,1,o)}return t}));return function(t,n){return e.apply(this,arguments)}}()}});n(7);function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jt(e);if(t){var o=Jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(s,e);var t,n,i,a,c,u=Kt(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=u.call(this,e)).state={input:{code:""},error:null},t}return t=s,(n=[{key:"changeInput",value:function(e,t){var n=this.state.input;n[e]=t,this.setState({input:n})}},{key:"handleEnter",value:function(e,t){13===e&&t()}},{key:"randomCode",value:function(){throw new Error("not support")}},{key:"lockDevice",value:function(e){var t=this,n=this.state.input;return se.lockDevice({device:{name:e.name,code:n.code}}).then((function(){})).catch((function(e){t.setState({error:e.code})}))}},{key:"unlockDevice",value:(a=function*(e){var t=this.state.input;(e=yield se.unlockDevice({device:{name:e.name,code:t.code}})).selected=!0;var n=j.get("devices").map((function(t){return t.name===e.name?e:t}));j.set("devices",n),t.code="",this.setState({input:t})},c=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){qt(o,n,r,i,c,"next",e)}function c(e){qt(o,n,r,i,c,"throw",e)}i(void 0)}))},function(e){return c.apply(this,arguments)})},{key:"renderSecretPanel",value:function(e){var t=this,n=this.state,r=n.input;if(n.error,e)return!e.secure.secret&&e.size>0?o.a.createElement("div",null,o.a.createElement("h1",null,"danger"),o.a.createElement("p",null,"your device is broken")):o.a.createElement("div",null,o.a.createElement("h1",null,"create secret"),o.a.createElement("input",{type:"password",value:r.code,onChange:function(e){return t.changeInput("code",e.target.value)},onKeyUp:function(n){return t.handleEnter(n.keyCode,(function(){return t.lockDevice(e)}))}}),o.a.createElement(pe,{onClick:function(){return t.randomCode()}},"random"))}},{key:"renderAccessPanel",value:function(e){var t=this,n=this.state,r=n.input;return n.error,o.a.createElement("div",null,o.a.createElement("h1",null,"verify secret"),o.a.createElement("input",{type:"password",value:r.code,onChange:function(e){return t.changeInput("code",e.target.value)},onKeyUp:function(n){return t.handleEnter(n.keyCode,(function(){return t.unlockDevice(e)}))}}))}},{key:"render",value:function(){var e=j.get("devices").find((function(e){return e.selected})),t=!e||!e.secure.secret||e.secure.locked;return o.a.createElement("div",{className:Object(r.cls)("access-mask",!t&&"hide")},e&&e.secure.secret?this.renderAccessPanel(e):this.renderSecretPanel(e))}}])&&zt(t.prototype,n),i&&zt(t,i),s}(r.Component),Qt=U(Xt);n(8);function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function en(e,t){return(en=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rn(e);if(t){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nn(this,n)}}function nn(e,t){return!t||"object"!==Yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}o.a.cls=function(){var e=arguments;return e=1===arguments.length?arguments[0]:Array.prototype.slice.call(arguments),Array.isArray(e)?e.filter(Boolean).join(" "):e};var on=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&en(e,t)}(a,e);var t,n,r,i=tn(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e),fe.initialize(),t}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"side"},o.a.createElement("div",{className:"header"},o.a.createElement("h1",null,"KeyRoll")),o.a.createElement(Te,null)),o.a.createElement("div",{className:"main"},o.a.createElement(_t,null),o.a.createElement($t,null),o.a.createElement(Qt,null)))}}])&&Zt(t.prototype,n),r&&Zt(t,r),a}(r.Component);t.default=U(on);!function(){if("undefined"!=typeof window&&window)if(window.epii||(window.epii={}),void 0!==t&&t){var e=t.default;if(!e){var r=Object.keys(t);r.length>0&&(e=t[r[0]])}window.epii.entry=e}else console.error("settle-loader error :: __webpack_exports__ not found");n(9)}()}]);