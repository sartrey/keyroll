{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/client/component/AccessMask.jsx","webpack:///./lib/client/component/AccessMask.scss","webpack:///./lib/client/component/DeviceList.jsx","webpack:///./lib/client/component/DeviceList.scss","webpack:///./lib/client/component/RecordList.jsx","webpack:///./lib/client/component/RecordList.scss","webpack:///./lib/client/component/RecordListItem.jsx","webpack:///./lib/client/component/VolumnList.jsx","webpack:///./lib/client/component/VolumnList.scss","webpack:///./lib/client/component/VolumnListItem.jsx","webpack:///./lib/client/component/design/Button.jsx","webpack:///./lib/client/component/design/Button.scss","webpack:///./lib/client/component/design/Icon.jsx","webpack:///./lib/client/component/design/Icon.scss","webpack:///./lib/client/component/design/Input.jsx","webpack:///./lib/client/component/design/Input.scss","webpack:///./lib/client/component/design/index.js","webpack:///./lib/client/component/higher/editable.jsx","webpack:///./lib/client/index.jsx","webpack:///./lib/client/index.scss","webpack:///./lib/client/store.js","webpack:///./node_modules/@noflux/react/dist/noflux-react.es.js","webpack:///./node_modules/@noflux/state/dist/noflux-state.es.js","webpack:///./node_modules/whatwg-fetch/fetch.js","webpack:///external \"React\"","webpack:///external \"ReactDOM\""],"names":["AccessMask","props","state","input","code","error","key","value","setState","action","Error","device","lockDevice","name","then","unlockDevice","selected","devices","get","map","e","set","secure","secret","size","changeInput","target","handleEnter","keyCode","randomCode","currentDevice","find","willBlockAccess","locked","cls","renderAccessPanel","renderSecretPanel","Component","connect","DeviceList","scanDevices","RecordListHeader","volumn","console","log","parent","createItem","createEditableList","RecordListItem","entityName","entityKey","dataSource","source","select","item","records","killRecord","record","id","index","findIndex","cursor","splice","update","next","$temp","undefined","editRecord","result","push","RecordEditor","model","onChange","onUpdate","onCancel","seal","checked","RecordViewer","unsealedValue","onActive","onRemove","onSelect","type","createEditableListItem","VolumnListHeader","filterVolumn","VolumnListItem","volumns","findRecords","killVolumn","findVolumns","editVolumn","VolumnEditor","VolumnViewer","Button","icon","children","onClick","Icon","Input","defaultValue","components","options","Editor","Viewer","validator","className","EditableListItem","stage","raiseRemove","cancelInput","raiseUpdate","raiseSelect","activeInput","HeaderView","FooterView","EditableList","idgen","prototype","unshift","i","indexOf","innerModel","outerModel","forEach","eo","ei","reconcileModel","length","selectItem","removeItem","updateItem"],"mappings":"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CA;AACA,IAAI,mDAAK;AACT,GAAG;;AAEH;AACA;AACA,IAAI,mDAAK;AACT,GAAG;;AAEH;AACA;AACA;;AAEA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAOE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR,I;;;;;;;;;;;;AChHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACsC;AACJ;;AAElC,gBAAgB,mDAAK;;AAErB,cAAc,aAAoB;;AAElC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK,CAAC,+CAAS;;AAEf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAE0B;;;;;;;;;;;;;ACxQ1B;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,6CAA6C,gBAAgB;;AAE7D;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH,sBAAsB;AACtB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kDAAkD,OAAO;AACzD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qFAAqF;AACrF;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB,sBAAsB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA,qFAAqF;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,0EAA0E,eAAe;AACzF;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,0EAA0E,eAAe;AACzF;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAEuB;;;;;;;;;;;;;ACtoBxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;;AAEA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,qDAAqD;AACrD,OAAO;AACP;AACA,OAAO;AACP,4EAA4E;AAC5E;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B,qBAAqB;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,qCAAqC,0BAA0B;AAC/D;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,6BAA6B,0BAA0B,eAAe;AACtE;;AAEO;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACplBA,uB;;;;;;;;;;;ACAA,0B","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/client/index.jsx\");\n","import React, { Component, cls } from 'react';\nimport { connect, state } from '@noflux/react';\nimport { action } from '../store';\nimport { Icon, Button } from './design';\nimport './AccessMask.scss';\n\nclass AccessMask extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      input: {\n        code: ''\n      },\n      error: null\n    };\n  }\n\n  changeInput(key, value) {\n    const { input } = this.state;\n    input[key] = value;\n    this.setState({ input });\n  }\n\n  handleEnter(key, action) {\n    if (key === 13) action();\n  }\n\n  randomCode() {\n    throw new Error('not support');\n  }\n\n  lockDevice(device) {\n    const { input } = this.state;\n    return action.lockDevice({ \n      device: { name: device.name, code: input.code }\n    })\n      .then(() => {})\n      .catch((error) => {\n        this.setState({ error: error.code })\n      });\n  }\n\n  async unlockDevice(device) {   \n    const { input } = this.state; \n    device = await action.unlockDevice({ \n      device: { name: device.name, code: input.code }\n    });\n    device.selected = true;\n    const devices = state.get('devices')\n      .map(e => e.name === device.name ? device : e);\n    state.set('devices', devices);\n    input.code = ''\n    this.setState({ input });\n  }\n\n  renderSecretPanel(device) {\n    const { input, error } = this.state;\n    if (!device) return;\n    if (!device.secure.secret && device.size > 0) {\n      return (\n        <div>\n          <h1>danger</h1>\n          <p>your device is broken</p>\n        </div>\n      );\n    }\n    return (\n      <div>\n        <h1>create secret</h1>\n        <input type='password' value={input.code}\n          onChange={e => this.changeInput('code', e.target.value)}\n          onKeyUp={e => this.handleEnter(e.keyCode, () => this.lockDevice(device))} />\n        <Button onClick={() => this.randomCode()}>random</Button>\n      </div>\n    );\n  }\n\n  renderAccessPanel(device) {\n    const { input, error } = this.state;\n    return (\n      <div>\n        <h1>verify secret</h1>\n        <input type='password' value={input.code}\n          onChange={e => this.changeInput('code', e.target.value)} \n          onKeyUp={e => this.handleEnter(e.keyCode, () => this.unlockDevice(device))} />\n      </div>\n    );\n  }\n\n  render() {\n    const devices = state.get('devices');\n    const currentDevice = devices.find(e => e.selected);\n    const willBlockAccess = !currentDevice || !currentDevice.secure.secret || currentDevice.secure.locked;\n    return (\n      <div className={cls('access-mask', !willBlockAccess && 'hide')}>\n        { (currentDevice && currentDevice.secure.secret)\n        ? this.renderAccessPanel(currentDevice)\n        : this.renderSecretPanel(currentDevice) }\n      </div>\n    );\n  }\n}\n\nexport default connect(AccessMask);","// extracted by mini-css-extract-plugin","import React, { Component } from 'react';\nimport { connect, state } from '@noflux/react';\nimport { action } from '../store';\nimport { Icon } from './design';\nimport './DeviceList.scss';\n\nclass DeviceList extends Component {\n  async componentDidMount() {\n    await action.scanDevices();\n  }\n\n  async lockDevice(device) {\n    if (device.secure.locked) return;\n    device = await action.lockDevice({\n      device: { name: device.name }\n    });\n    device.selected = true;\n    const devices = state.get('devices')\n      .map(e => e.name === device.name ? device : e);\n    state.set('devices', devices);\n  }\n\n  render() {\n    const devices = state.get('devices');\n    return (\n      <div className='device-list'>\n        <ul>\n          {devices.map(device => (\n            <li key={device.name} onClick={() => this.lockDevice(device)}>\n              <span>{device.name}</span>\n              <Icon name={device.secure.locked ? 'lock' : 'lock_open'} />\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default connect(DeviceList);\n","// extracted by mini-css-extract-plugin","import React, { Component } from 'react';\nimport { createEditableList } from './higher/editable';\nimport { Button } from './design';\nimport RecordListItem from './RecordListItem';\nimport { connect, state } from '@noflux/react';\nimport { action } from '../store';\nimport './RecordList.scss';\n\nclass RecordListHeader extends Component {\n  render() {\n    const volumn = state.get('volumns').find(e => e.selected);\n    console.log('volumn', volumn);\n    if (!volumn) {\n      return (\n        <div className='header'>\n          empty\n        </div>\n      );\n    }\n    return (\n      <div className='header'>\n        <div className='detail'>\n          <div className='logo'>\n            <img />\n          </div>\n          <div className='info'>\n            <h1>{volumn.name}</h1>\n          </div>\n        </div>\n        <div className='action'>\n          <Button icon='add' onClick={() => this.parent.createItem()}>add record</Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default createEditableList(\n  [\n    RecordListItem,\n    connect(RecordListHeader)\n  ],\n  {\n    entityName: 'record',\n    entityKey: 'id',\n    dataSource: {\n      source: () => {\n        return state.get('records');\n      },\n      select: () => {},\n      delete: async (item) => {\n        const device = state.get('devices').find(e => e.selected);\n        const volumn = state.get('volumns').find(e => e.selected);\n        const records = state.get('records');\n        await action.killRecord({\n          device: { name: device.name },\n          volumn: { name: volumn.name },\n          record: { id: item.id }\n        });\n        const index = records.findIndex(e => e.id === item.id);\n        if (index >= 0) {\n          state.cursor('records').splice(index, 1);\n        }\n      },\n      update: async (item, next) => {\n        const device = state.get('devices').find(e => e.selected);\n        const volumn = state.get('volumns').find(e => e.selected);\n        const record = { ...next };\n        if (item.$temp) {\n          record.id = undefined;\n        }\n        await action.editRecord({\n          device: { name: device.name },\n          volumn: { name: volumn.name },\n          record\n        })\n          .then(result => {\n            record.id = result.id;\n            // todo - show value ?\n          });\n        if (item.$temp) {\n          state.cursor('records').push(record);\n        } else {\n          const records = state.get('records');\n          const index = records.findIndex(e => e.id === item.id);\n          state.cursor('records').splice(index, 1, record);\n        }\n        return next;\n      }\n    }\n  }\n);\n","// extracted by mini-css-extract-plugin","import React, { Component } from 'react';\nimport { Button, Input } from './design';\nimport { createEditableListItem } from './higher/editable';\n\nclass RecordEditor extends Component {\n  render() {\n    const { model, input, onChange, onUpdate, onCancel } = this.props;\n    return (\n      <div>\n        <Input placeholder='name' defaultValue={model.name} onChange={e => onChange('name', e.target.value)} />\n        <Input placeholder='value' defaultValue={model.value} onChange={e => onChange('value', e.target.value)} />\n        <input type='checkbox' checked={input.seal} onChange={e => onChange('seal', e.target.checked)} />\n        <div>\n          <Button icon=\"save\" onClick={onUpdate} />\n          <Button icon=\"close\" onClick={onCancel} />\n        </div>\n      </div>\n    );\n  }\n}\n\nclass RecordViewer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      model: {\n        unsealedValue: false\n      }\n    };\n  }\n\n  render() {\n    const { model, onActive, onRemove, onSelect } = this.props;\n    return (\n      <div className='record-viewer' onClick={onSelect}>\n        <div className='field-name'>{model.name}</div>\n        <div>type = {model.type}</div>\n        <div className='field-value'>\n          { model.seal ? (this.state.model.unsealedValue && '***') : model.value }\n        </div>\n        <Button icon=\"edit\" onClick={onActive} />\n        <Button icon=\"delete\" onClick={onRemove} />\n      </div>\n    );\n  }\n}\n\nexport default createEditableListItem(\n  [\n    RecordEditor,\n    RecordViewer\n  ],\n  {\n    entityName: 'record'\n  }\n);\n","import React, { Component } from 'react';\nimport { state } from '@noflux/react';\nimport { action } from '../store';\nimport { createEditableList } from './higher/editable';\nimport { Button, Input } from './design';\nimport VolumnListItem from './VolumnListItem';\nimport './VolumnList.scss';\n\nclass VolumnListHeader extends Component {\n  render() {\n    return (\n      <div className='header'>\n        <Input onChange={e => this.filterVolumn(e.target.value)} />\n        <Button icon='add' onClick={() => this.parent.createItem()} />\n      </div>\n    );\n  }\n}\n\nexport default createEditableList(\n  [\n    VolumnListItem,\n    VolumnListHeader\n  ],\n  {\n    entityName: 'volumn',\n    entityKey: 'name',\n    dataSource: {\n      source: () => {\n        return state.get('volumns');\n      },\n      select: async (item) => {\n        const volumns = state.get('volumns').map(e => {\n          if (e.name === item.name) {\n            item.selected = true;\n            return item;\n          }\n          e.selected = false;\n          return e;\n        });\n        state.set('volumns', volumns);\n        const device = state.get('devices').find(e => e.selected);\n        await action.findRecords({\n          device: { name: device.name },\n          volumn: { name: item.name }\n        });\n      },\n      delete: async (item) => {\n        const device = state.get('devices').find(e => e.selected);\n        await action.killVolumn({\n          device: { name: device.name },\n          volumn: { name: item.name }\n        });\n        await action.findVolumns({\n          device: { name: device.name }\n        });\n      },\n      update: async (item, next) => {\n        const device = state.get('devices').find(e => e.selected);\n        await action.editVolumn({\n          device: { name: device.name },\n          volumn: next\n        });\n        await action.findVolumns({\n          device: { name: device.name }\n        });\n        return next;\n      }\n    }\n  }\n);\n","// extracted by mini-css-extract-plugin","import React, { Component } from 'react';\nimport { Button, Input } from './design';\nimport { createEditableListItem } from './higher/editable';\n\nclass VolumnEditor extends Component {\n  render() {\n    const { model, onChange, onUpdate, onCancel } = this.props;\n    return (\n      <div>\n        <Input defaultValue={model.name} onChange={e => onChange('name', e.target.value)} />\n        <Button icon=\"save\" onClick={onUpdate} />\n        <Button icon=\"close\" onClick={onCancel} />\n      </div>\n    );\n  }\n}\n\nclass VolumnViewer extends Component {\n  render() {\n    const { model, onActive, onRemove, onSelect, selected } = this.props;\n    return (\n      <div className='viewer' onClick={onSelect}>\n        <div className='logo'>\n          <img />\n        </div>\n        <div className='info'>\n          <div>{model.name}</div>\n          { selected && (\n            <div className='action'>\n              <Button size='small' icon=\"edit\" onClick={onActive}>edit</Button>\n              <Button size='small' icon=\"delete\" onClick={onRemove}>remove</Button>\n            </div>\n          ) }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default createEditableListItem(\n  [\n    VolumnEditor,\n    VolumnViewer\n  ],\n  {\n    entityName: 'volumn'\n  }\n);\n","import React, { Component, cls } from 'react';\nimport Icon from './Icon';\nimport './Button.scss';\n\nexport default function Button(props) {\n  const { size, icon, children } = props;\n  return (\n    <button className={cls('button', size)} onClick={props.onClick}>\n      <Icon name={icon} />\n      { children && (<span>{children}</span>) }\n    </button>\n  );\n}","// extracted by mini-css-extract-plugin","import React, { Component } from 'react';\nimport './Icon.scss';\n\nexport default function Icon(props) {\n  return (\n    <i className='icon'>{props.name}</i>\n  );\n}\n","// extracted by mini-css-extract-plugin","import React, { Component } from 'react';\nimport './Input.scss';\n\nexport default class Input extends Component {\n  render() {\n    const {\n      type,\n      defaultValue,\n      onChange\n    } = this.props;\n    return (\n      <input className='input' defaultValue={defaultValue} onChange={onChange} />\n    );\n  }\n}","// extracted by mini-css-extract-plugin","import Button from './Button';\nimport Icon from './Icon';\nimport Input from './Input';\n\nexport {\n  Button,\n  Icon,\n  Input\n};\n","import React, { Component, cls } from 'react';\nimport { connect, state } from '@noflux/react';\n\nexport function createEditableListItem(components, options) {\n  const [\n    Editor,\n    Viewer\n  ] = components;\n  const {\n    entityName,\n    validator\n  } = options;\n  const className = `${entityName}-list-item`;\n  class EditableListItem extends Component {\n    constructor(props) {\n      super(props);\n      const { model } = props;\n      this.state = {\n        input: model.$temp ? {} : { ...model },\n        error: null,\n        stage: model.$temp ? 'editor' : 'viewer'\n      };\n    }\n\n    changeInput(key, value) {\n      const { input } = this.state;\n      input[key] = value;\n      this.setState({ input });\n    }\n  \n    activeInput() {\n      this.setState({ stage: 'editor' });\n    }\n  \n    cancelInput() {\n      const { model } = this.props;\n      // todo - confirm unsaved\n      if (model.$temp) {\n        // only remove temp item\n        this.raiseRemove();\n      } else {\n        this.setState({ stage: 'viewer' });\n      }\n    }\n\n    raiseSelect() {\n      if (this.props.onSelect) {\n        this.props.onSelect();\n      }\n    }\n  \n    raiseRemove() {\n      if (this.props.onRemove) {\n        this.props.onRemove();\n      }\n    }\n  \n    raiseUpdate() {\n      const { input } = this.state;\n      if (validator) {\n        const error = validator(input);\n        this.setState({ error });\n        if (error) {\n          console.error(error);\n          return;\n        }\n      }\n      this.setState({ stage: 'viewer' });\n      if (this.props.onUpdate) {\n        this.props.onUpdate(input);\n      }\n    }\n  \n    render() {\n      const { stage, input } = this.state;\n      const { model, selected } = this.props;\n      return (\n        <li className={cls(className, selected && 'active')}>\n          { stage === 'editor' && (\n            <Editor model={model} input={input}\n              onCancel={() => this.cancelInput()}\n              onUpdate={() => this.raiseUpdate()}\n              onChange={(key, value) => this.changeInput(key, value)} />\n          ) }\n          { stage === 'viewer' && (\n            <Viewer model={model} selected={selected}\n              onSelect={() => this.raiseSelect()}\n              onActive={() => this.activeInput()}\n              onRemove={() => this.raiseRemove()} />\n          ) }\n        </li>\n      );\n    }\n  }\n  return EditableListItem;\n}\n\nexport function createEditableList(components, options) {\n  const [\n    EditableListItem,\n    HeaderView,\n    FooterView\n  ] = components;\n  const {\n    entityName,\n    entityKey = 'key',\n    dataSource,\n  } = options;\n  const className = `${entityName}-list`;\n  class EditableList extends Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        model: []\n      };\n      this.idgen = 1;\n      if (HeaderView) HeaderView.prototype.parent = this;\n      if (FooterView) FooterView.prototype.parent = this;\n    }\n\n    createItem() {\n      const { model } = this.state;\n      model.unshift({ $temp: this.idgen });\n      this.idgen += 1;\n      this.setState({ model });\n    }\n  \n    async selectItem(item) {\n      await dataSource.select(item);\n    }\n\n    async removeItem(item) {\n      if (!item.$temp) {\n        await dataSource.delete(item);\n      }\n      const { model } = this.state;\n      const i = model.indexOf(item);\n      if (i >= 0) {\n        model.splice(i, 1);\n        this.setState({ model });\n      }\n    }\n  \n    async updateItem(item, next) {\n      const result = await dataSource.update(item, next);\n      const { model } = this.state;\n      const i = model.indexOf(item);\n      if (i >= 0) {\n        model.splice(i, 1, result);\n        this.setState({ model });\n      }\n    }\n\n    reconcileModel() {\n      const innerModel = this.state.model;\n      const outerModel = dataSource.source();\n      const model = [];\n      innerModel.forEach(e => {\n        if (e.$temp) model.push(e);\n      });\n      outerModel.forEach(eo => {\n        const e = innerModel.find(ei => ei[entityKey] === eo[entityKey]);\n        model.push(e || eo);\n      });\n      return model;\n    }\n\n    render() {\n      const model = this.reconcileModel();\n      return (\n        <div className={className}>\n          { HeaderView && (<HeaderView />) }\n          { model.length > 0 && (\n            <ul>\n            { model.map((item) => {\n              return (\n                <EditableListItem key={item[entityKey] || `temp-${item.$temp}`} model={item} selected={item.selected}\n                  onSelect={() => this.selectItem(item)}\n                  onRemove={() => this.removeItem(item)} \n                  onUpdate={(input) => this.updateItem(item, input)} />\n              );\n            }) }\n            </ul>\n          ) }\n          { FooterView && (<FooterView />) }\n        </div>\n      );\n    }\n  }\n  return connect(EditableList);\n}\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport React, { Component } from 'react';\n\nReact.cls = function concatClassNames() {\n  var names = arguments;\n\n  if (arguments.length === 1) {\n    names = arguments[0];\n  } else {\n    names = Array.prototype.slice.call(arguments);\n  }\n\n  if (Array.isArray(names)) {\n    return names.filter(Boolean).join(' ');\n  }\n\n  return names;\n};\n\nimport { connect, state } from '@noflux/react';\nimport store from './store';\nimport DeviceList from './component/DeviceList';\nimport VolumnList from './component/VolumnList';\nimport RecordList from './component/RecordList';\nimport AccessMask from './component/AccessMask';\nimport './index.scss';\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this, props);\n    store.initialize();\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"side\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"header\"\n      }, /*#__PURE__*/React.createElement(\"h1\", null, \"KeyRoll\")), /*#__PURE__*/React.createElement(DeviceList, null)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"main\"\n      }, /*#__PURE__*/React.createElement(VolumnList, null), /*#__PURE__*/React.createElement(RecordList, null), /*#__PURE__*/React.createElement(AccessMask, null)));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default connect(App);;(function(){if (typeof window !== 'undefined' && window) {\n  if (!window.epii) window.epii = {};\n  if (typeof __webpack_exports__ !== 'undefined' && __webpack_exports__) {\n    var capture = __webpack_exports__.default;\n    if (!capture) {\n      var keys = Object.keys(__webpack_exports__);\n      if (keys.length > 0) {\n        capture = __webpack_exports__[keys[0]];\n      }\n    }\n    window.epii.entry = capture;\n  } else {\n    console.error('settle-loader error :: __webpack_exports__ not found');\n  }\n};require('react-dom');}());","// extracted by mini-css-extract-plugin","import 'whatwg-fetch';\nimport { state } from '@noflux/react';\n\nfunction raiseQuery(action, payload) {\n  console.warn(`action [${action}] <=`, payload)\n  const apiPath = `/__/data/${action}`;\n  return fetch(apiPath, {\n    method: 'POST',\n    body: JSON.stringify(payload),\n    // headers: {}\n  })\n    .then(response => response.json())\n    .then(json => {\n      if (json.state === 0) {\n        console.warn(`action [${action}] =>`, json.model);\n        return json.model;\n      }\n      console.error(`action [${action}] =>`, json.error);\n      console.warn(json.stack);\n      throw new Error('server error');\n    });\n}\n\nfunction initialize() {\n  state.set({\n    devices: [],\n    volumns: [],\n    records: [],\n  });\n}\n\nconst stateActions = {\n  scanDevices: async (model) => {\n    const devices = model;\n    if (devices.length > 0) {\n      const device = devices[0];\n      device.selected = true;\n      await actionHandler.findVolumns({\n        device: { name: device.name }\n      });\n    }\n    state.set('devices', devices);\n  },\n\n  lockDevice: (model) => {\n    const device = model;\n    const devices = state.get('devices')\n      .map(e => e.name === device.name ? device : e);\n    state.set('devices', devices);\n  },\n\n  unlockDevice: (model) => {\n    const device = model;\n    const devices = state.get('devices')\n      .map(e => e.name === device.name ? device : e);\n    state.set('devices', devices);\n  },\n  \n  findVolumns: (model) => {\n    const volumns = model;\n    state.set('volumns', volumns);\n  },\n\n  findRecords: (model) => {\n    const records = model;\n    state.set('records', records);\n  },\n\n  killRecord: (model) => {\n  }\n};\n\nconst actionHandler = new Proxy({}, {\n  get: (o, prop) => {\n    // todo - use o to do sth magic\n    return async (payload) => {\n      const model = await raiseQuery(prop, payload);\n      const stateAction = stateActions[prop];\n      if (stateAction) {\n        await stateAction(model);\n      }\n      return model;\n    }\n  }\n});\n\nconst store = {\n  initialize,\n  raiseQuery,\n  action: actionHandler,\n};\n\nexport {\n  initialize,\n  raiseQuery,\n  actionHandler as action,\n  store as default,\n};\n\n// export function findRecord(query) {\n//   return fetchData('findRecord', query);\n// }\n\n// export function findRecords(query) {\n//   return fetchData('findRecords', query);\n// }\n\n// export function killRecord(query, model) {\n//   return fetchData('killRecord', query, model)\n//     .then(result => {\n//       console.log('killRecord', result);\n//     });\n// }","/*\n * @license\n * @noflux/react v1.0.0\n * (c) 2017-2018 Malash <i@malash.me>\n * Released under the MIT License.\n */\nimport { State } from '@noflux/state';\nimport { Component } from 'react';\n\nvar state = new State();\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\n/* global performance */\nvar timer = typeof performance !== 'undefined' && performance && performance.now ? performance : Date;\n\nvar isReactComponent = function isReactComponent(Component$$1) {\n  return Boolean(Component$$1 && Component$$1.prototype && typeof Component$$1.prototype.render === 'function');\n};\n\nvar isReactComponentInstance = function isReactComponentInstance(instance) {\n  return Boolean(instance && typeof instance.render === 'function');\n};\n\nvar getComponentName = function getComponentName(Component$$1) {\n  var constructor = Component$$1.prototype && Component$$1.prototype.constructor;\n  return Component$$1.displayName || constructor && constructor.displayName || Component$$1.name || constructor && constructor.name || 'Component';\n};\n\n// detect if the component is rendering from the client or the server\n// copy from fbjs/lib/ExecutionEnvironment\n// https://github.com/facebook/fbjs/blob/38bf26f4e6ea64d7ff68393919fb5e98f5ceac3b/packages/fbjs/src/core/ExecutionEnvironment.js#L12-L16\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\n\nvar SYMBOL_NOFLUX = hasSymbol ? Symbol.for('noflux') : '__noflux';\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar connectComponent = function connectComponent(Target) {\n  if (Target[SYMBOL_NOFLUX]) {\n    throw new SyntaxError('You should not use @connect for component ' + getComponentName(Target) + ' more than once.');\n  }\n  Target[SYMBOL_NOFLUX] = {};\n\n  // skip event listening for server-side rendering\n  if (!canUseDOM) {\n    return Target;\n  }\n\n  var ConnectedComponent = function (_Target) {\n    inherits(ConnectedComponent, _Target);\n\n    function ConnectedComponent(props) {\n      classCallCheck(this, ConnectedComponent);\n\n      // init\n      var _this = possibleConstructorReturn(this, (ConnectedComponent.__proto__ || Object.getPrototypeOf(ConnectedComponent)).call(this, props));\n\n      _this[SYMBOL_NOFLUX] = {\n        getPaths: {},\n        onSetDisposers: [],\n        mounted: false,\n        isForcingUpdate: false\n      };\n      var __noflux = _this[SYMBOL_NOFLUX];\n\n      var onSet = function onSet() {\n        // skip re-render after unmounting component\n        // TODO: test this guard\n        if (!__noflux.mounted) return;\n\n        // skip duplicate forceUpdate calling\n        if (__noflux.isForcingUpdate) return;\n        __noflux.isForcingUpdate = true;\n\n        var startTime = timer.now();\n        _this.forceUpdate(function () {\n          __noflux.isForcingUpdate = false;\n\n          var endTime = timer.now();\n          var cost = endTime - startTime;\n          if (__DEV__) {\n            // eslint-disable-next-line no-console\n            console.log('[noflux] ' + getComponentName(Target) + ' rendering time ' + cost.toFixed(3) + ' ms');\n          }\n        });\n      };\n      __noflux.onGetDisposer = state.on('get', function (_ref) {\n        var path = _ref.path;\n\n        if (__noflux.isRendering && !__noflux.getPaths[path]) {\n          __noflux.getPaths[path] = true;\n          // register cursor on set handler\n          __noflux.onSetDisposers.push(state.cursor(path).on('set', onSet));\n        }\n      });\n      return _this;\n    }\n\n    createClass(ConnectedComponent, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        // set component mounted flag\n        this[SYMBOL_NOFLUX].mounted = true;\n\n        // call origin componentDidMount\n        if (get(ConnectedComponent.prototype.__proto__ || Object.getPrototypeOf(ConnectedComponent.prototype), 'componentDidMount', this)) {\n          get(ConnectedComponent.prototype.__proto__ || Object.getPrototypeOf(ConnectedComponent.prototype), 'componentDidMount', this).call(this);\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        var __noflux = this[SYMBOL_NOFLUX];\n        // dispose cursor on set listeners\n        __noflux.onSetDisposers.forEach(function (disposer) {\n          return disposer();\n        });\n\n        // dispose get listener\n        __noflux.onGetDisposer();\n\n        // reset component mounted flag\n        __noflux.mounted = false;\n\n        // call origin componentWillUnmount\n        if (get(ConnectedComponent.prototype.__proto__ || Object.getPrototypeOf(ConnectedComponent.prototype), 'componentWillUnmount', this)) {\n          get(ConnectedComponent.prototype.__proto__ || Object.getPrototypeOf(ConnectedComponent.prototype), 'componentWillUnmount', this).call(this);\n        }\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        if (!get(ConnectedComponent.prototype.__proto__ || Object.getPrototypeOf(ConnectedComponent.prototype), 'render', this)) {\n          throw new Error('No render method found on the returned component instance of ' + getComponentName(Target) + ', you may have forgotten to define render.');\n        }\n\n        var __noflux = this[SYMBOL_NOFLUX];\n        __noflux.isRendering = true;\n        var vdom = get(ConnectedComponent.prototype.__proto__ || Object.getPrototypeOf(ConnectedComponent.prototype), 'render', this).call(this);\n        __noflux.isRendering = false;\n        return vdom;\n      }\n    }]);\n    return ConnectedComponent;\n  }(Target);\n\n  ConnectedComponent.displayName = 'Connect(' + getComponentName(Target) + ')';\n\n  return ConnectedComponent;\n};\n\nvar connect = function connect(target, prop, descriptor) {\n  if (!target) {\n    throw new TypeError('@connect() is invalid, do you mean @connect ?');\n  }\n  if (isReactComponentInstance(target) && prop && descriptor) {\n    throw new SyntaxError('@connect should not be used for component method.');\n  }\n  if (!isReactComponent(target)) {\n    if (typeof target !== 'function') {\n      throw new TypeError('@connect should be used for React component');\n    }\n\n    var ConnectedComponent = function (_Component) {\n      inherits(ConnectedComponent, _Component);\n\n      function ConnectedComponent() {\n        classCallCheck(this, ConnectedComponent);\n        return possibleConstructorReturn(this, (ConnectedComponent.__proto__ || Object.getPrototypeOf(ConnectedComponent)).apply(this, arguments));\n      }\n\n      createClass(ConnectedComponent, [{\n        key: 'render',\n        value: function render() {\n          return target.call(this, this.props, this.context);\n        }\n      }]);\n      return ConnectedComponent;\n    }(Component);\n\n    ConnectedComponent.displayName = 'Connect(' + getComponentName(target) + ')';\n    ConnectedComponent.contextTypes = target.contextTypes;\n    ConnectedComponent.propTypes = target.propTypes;\n    ConnectedComponent.defaultProps = target.defaultProps;\n\n    return connectComponent(ConnectedComponent);\n  }\n  return connectComponent(target);\n};\n\nexport { state, connect };\n","/*\n * @license\n * @noflux/state v1.0.1\n * (c) 2017-2018 Malash <i@malash.me>\n * Released under the MIT License.\n */\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nvar SYMBOL_NOFLUX = '__noflux';\n\n/*\n * JSON Pointer style escape\n * http://tools.ietf.org/html/rfc6901\n */\nvar escapePath = function escapePath(path) {\n  return path.replace(/~/g, '~1').replace(/\\./g, '~0');\n};\nvar unescapePath = function unescapePath(path) {\n  return path.replace(/~0/g, '.').replace(/~1/g, '~');\n};\n\nvar parsePath = function parsePath(path) {\n  if (Array.isArray(path)) {\n    return path;\n  }\n  if (typeof path === 'string') {\n    if (!path.length) {\n      return [];\n    }\n    // path with dot, e.g. 'a~1b.c' => ['a.b', 'c']\n    if (path.indexOf('~') !== -1) {\n      return path.split('.').map(unescapePath);\n    }\n    return path.split('.');\n  }\n  throw Error('State.prototype.cursor only accept string or array, ' + (typeof path === 'undefined' ? 'undefined' : _typeof(path)) + ' is forbidden');\n};\n\nvar stringifyPath = function stringifyPath(path) {\n  if (typeof path === 'string') {\n    return path;\n  }\n  if (Array.isArray(path)) {\n    // path with dot, e.g. ['a.b', 'c'] => 'a~1b.c'\n    return path.map(escapePath).join('.');\n  }\n  throw Error('State.prototype.cursor only accept string or array, ' + (typeof path === 'undefined' ? 'undefined' : _typeof(path)) + ' is forbidden');\n};\n\nvar isNullOrUndefined = function isNullOrUndefined(obj) {\n  return obj === undefined || obj === null;\n};\n\nvar getByPath = function getByPath(obj, path) {\n  var pointer = obj;\n  for (var i = 0; i < path.length; i += 1) {\n    var next = path[i];\n    // only null and undefined has no properties\n    // ref: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/No_properties\n    if (isNullOrUndefined(pointer)) {\n      return undefined;\n    }\n    pointer = pointer[next];\n  }\n  return pointer;\n};\n\nvar isObject = function isObject(obj) {\n  return (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && obj !== null;\n};\nvar isNumeric = function isNumeric(num) {\n  return !isNaN(num) && num !== '';\n};\n\nvar shallowClone = function shallowClone(obj) {\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  if (Array.isArray(obj)) {\n    return [].concat(toConsumableArray(obj));\n  } else if (isObject(obj)) {\n    return _extends({}, obj);\n  }\n  if (isNumeric(path)) {\n    return [];\n  } else {\n    return {};\n  }\n};\n\nvar HEAD = 'HEAD';\nvar setByPath = function setByPath(obj) {\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  var value = arguments[2];\n\n  if (!path.length) {\n    return value;\n  }\n\n  var root = {};\n  root[HEAD] = obj;\n  var parentPointer = root;\n  var lastNext = HEAD;\n  var pointer = obj;\n  for (var i = 0; i < path.length; i += 1) {\n    var next = path[i];\n    parentPointer[lastNext] = shallowClone(pointer, next);\n    parentPointer = parentPointer[lastNext];\n    lastNext = next;\n    if (isNullOrUndefined(pointer)) {\n      // always skip traversing null or undefined\n      pointer = null;\n    } else {\n      pointer = pointer[next];\n    }\n  }\n  parentPointer[lastNext] = value;\n  return root[HEAD];\n};\n\n// null or undefined will cause an error\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from\nvar arrayFromAllowNullOrUndefined = function arrayFromAllowNullOrUndefined(arrayLike) {\n  return isNullOrUndefined(arrayLike) ? [] : [].concat(toConsumableArray(arrayLike));\n};\n\nvar count = 1;\nvar getNextId = function getNextId() {\n  count += 1;\n  return count;\n};\n\nvar removeFirstFromArray = function removeFirstFromArray(array, value) {\n  var pos = array.indexOf(value);\n  if (pos !== -1) {\n    // about 1.5x faster than the two-arg version of Array#splice() as nodejs said\n    // https://github.com/nodejs/node/blob/v6.x/lib/events.js#L470-L475\n    for (var i = pos, k = i + 1, n = array.length; k < n; i += 1, k += 1) {\n      array[i] = array[k];\n    }\n    array.pop();\n  }\n};\n\nvar Store = function () {\n  function Store() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        data = _ref.data,\n        _ref$maxSnapshots = _ref.maxSnapshots,\n        maxSnapshots = _ref$maxSnapshots === undefined ? Infinity : _ref$maxSnapshots;\n\n    classCallCheck(this, Store);\n\n    this.__data = data;\n    this.__maxSnapshots = maxSnapshots;\n    this.__snapshots = [];\n    this.__snapshotIndex = -1;\n  }\n\n  createClass(Store, [{\n    key: 'read',\n    value: function read(path) {\n      return getByPath(this.__data, path);\n    }\n  }, {\n    key: 'write',\n    value: function write(path, value) {\n      this.__data = setByPath(this.__data, path, value);\n    }\n  }, {\n    key: 'snapshot',\n    value: function snapshot() {\n      this.__snapshotIndex += 1;\n      this.__snapshots[this.__snapshotIndex] = this.__data;\n      // override redid snapshots\n      this.__snapshots.length = this.__snapshotIndex + 1;\n      if (this.__snapshots.length > this.maxSnapshots) {\n        this.__snapshots.shift();\n        this.__snapshotIndex -= 1;\n      }\n    }\n  }, {\n    key: 'canUndo',\n    value: function canUndo() {\n      return this.__snapshotIndex > 0;\n    }\n  }, {\n    key: 'undo',\n    value: function undo() {\n      if (!this.canUndo()) {\n        throw new RangeError('no more snapshot available');\n      }\n      this.__snapshotIndex -= 1;\n      this.__data = this.__snapshots[this.__snapshotIndex];\n    }\n  }, {\n    key: 'canRedo',\n    value: function canRedo() {\n      return this.__snapshotIndex + 1 < this.__snapshots.length;\n    }\n  }, {\n    key: 'redo',\n    value: function redo() {\n      if (!this.canRedo()) {\n        throw new RangeError('no more snapshot available');\n      }\n      this.__snapshotIndex += 1;\n      this.__data = this.__snapshots[this.__snapshotIndex];\n    }\n  }]);\n  return Store;\n}();\n\n// reduce property get times will accelerate 10%~15%\nvar SYMBOL_NOFLUX_ID = SYMBOL_NOFLUX + '_id';\n\nvar getListenerId = function getListenerId(listener) {\n  var autoGenerate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  // unique id for each listener\n  if (autoGenerate && listener[SYMBOL_NOFLUX_ID] === undefined) {\n    Object.defineProperty(listener, SYMBOL_NOFLUX_ID, {\n      enumerable: false,\n      writable: true,\n      configurable: true,\n      value: getNextId()\n    });\n  }\n  return listener[SYMBOL_NOFLUX_ID];\n};\n\n/*\n * for performance hit, every node maintain ownListeners and subtreeListeners\n * ownListeners[listenerId] = listener on current path\n * subtreeListeners[listenerId] = merge(\n *   ownListeners[listenerId],\n *   children.every.subtreeListeners[listenerId],\n * )\n */\nvar ListenerTreeNode = function ListenerTreeNode() {\n  classCallCheck(this, ListenerTreeNode);\n  this.children = {};\n  this.subtreeListeners = [];\n  this.ownListeners = [];\n};\n\nvar ListenerTree = function () {\n  function ListenerTree() {\n    classCallCheck(this, ListenerTree);\n    this.__tree = new ListenerTreeNode();\n  }\n\n  createClass(ListenerTree, [{\n    key: '__traverse',\n    value: function __traverse(_ref) {\n      var path = _ref.path,\n          _ref$createEmptyPath = _ref.createEmptyPath,\n          createEmptyPath = _ref$createEmptyPath === undefined ? false : _ref$createEmptyPath,\n          callbackBeforeRecursion = _ref.callbackBeforeRecursion,\n          callbackAfterRecursion = _ref.callbackAfterRecursion,\n          callbackAtBottom = _ref.callbackAtBottom;\n\n      var pointer = this.__tree;\n      // save call stack for backtracking\n      var stack = [];\n      stack.push(pointer);\n      for (var index = 0; index <= path.length; index += 1) {\n        var isAtBottom = index === path.length || !createEmptyPath && pointer.children[path[index]] === undefined;\n        if (isAtBottom && callbackAtBottom) {\n          callbackAtBottom(pointer, index);\n          break;\n        }\n        if (callbackBeforeRecursion) {\n          callbackBeforeRecursion(pointer);\n        }\n        var child = path[index];\n        if (pointer.children[child] === undefined) {\n          pointer.children[child] = new ListenerTreeNode();\n        }\n        pointer = pointer.children[child];\n        stack.push(pointer);\n      }\n      if (callbackAfterRecursion) {\n        while (stack.length) {\n          pointer = stack.pop();\n          callbackAfterRecursion(pointer);\n        }\n      }\n    }\n  }, {\n    key: 'addListener',\n    value: function addListener(path, listener) {\n      var _this = this;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('\"listener\" argument must be a function');\n      }\n      // init listener id\n      getListenerId(listener, true);\n      this.__traverse({\n        path: path,\n        createEmptyPath: true,\n        callbackAfterRecursion: function callbackAfterRecursion(node) {\n          return node.subtreeListeners.push(listener);\n        },\n        callbackAtBottom: function callbackAtBottom(node) {\n          return node.ownListeners.push(listener);\n        }\n      });\n      return function () {\n        _this.removeListener(path, listener);\n      };\n    }\n  }, {\n    key: 'removeListener',\n    value: function removeListener(path, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('\"listener\" argument must be a function');\n      }\n      this.__traverse({\n        path: path,\n        callbackAfterRecursion: function callbackAfterRecursion(node) {\n          return removeFirstFromArray(node.subtreeListeners, listener);\n        },\n        callbackAtBottom: function callbackAtBottom(node) {\n          return removeFirstFromArray(node.ownListeners, listener);\n        }\n      });\n    }\n\n    // path [a, b, ..., n] will emit\n    // merge(ownListener[root], ownListener[a], ownListener[b], ..., subtreeListener[n])\n\n  }, {\n    key: 'emit',\n    value: function emit(path, data) {\n      var listeners = [];\n      this.__traverse({\n        path: path,\n        callbackAtBottom: function callbackAtBottom(node, index) {\n          // if emit an empty path, there is no subtree\n          if (index === path.length) {\n            listeners.push.apply(listeners, toConsumableArray(node.subtreeListeners));\n          }\n        },\n        callbackAfterRecursion: function callbackAfterRecursion(node) {\n          if (node.ownListeners.length) {\n            listeners.push.apply(listeners, toConsumableArray(node.ownListeners));\n          }\n        }\n      });\n      var called = {};\n      for (var index = 0; index < listeners.length; index += 1) {\n        var listener = listeners[index];\n        var listenerId = getListenerId(listener);\n        // same listener will call once\n        if (!called[listenerId]) {\n          called[listenerId] = true;\n          listener(data);\n        }\n      }\n    }\n  }, {\n    key: 'on',\n    value: function on(path, listener) {\n      return this.addListener(path, listener);\n    }\n  }, {\n    key: 'off',\n    value: function off(path, listener) {\n      this.removeListener(path, listener);\n    }\n  }]);\n  return ListenerTree;\n}();\n\nvar State = function () {\n  function State() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$store = _ref.store,\n        store = _ref$store === undefined ? new Store() : _ref$store,\n        _ref$cursor = _ref.cursor,\n        cursor = _ref$cursor === undefined ? [] : _ref$cursor,\n        _ref$emitters = _ref.emitters,\n        emitters = _ref$emitters === undefined ? {\n      get: new ListenerTree(),\n      set: new ListenerTree()\n    } : _ref$emitters;\n\n    classCallCheck(this, State);\n\n    this.__store = store;\n    this.__cursor = cursor;\n    this.__emitters = emitters;\n  }\n\n  createClass(State, [{\n    key: 'cursor',\n    value: function cursor() {\n      var subPath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var __store = this.__store,\n          __cursor = this.__cursor,\n          __emitters = this.__emitters;\n\n      subPath = parsePath(subPath);\n      return new State({\n        store: __store,\n        cursor: __cursor.concat(subPath),\n        emitters: __emitters\n      });\n    }\n  }, {\n    key: 'get',\n    value: function get$$1() {\n      var subPath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var length = arguments.length;\n\n      if (length !== 0) {\n        return this.cursor(subPath).get();\n      }\n      var value = this.__store.read(this.__cursor);\n      this.__emitters.get.emit(this.__cursor, {\n        path: stringifyPath(this.__cursor),\n        value: value\n      });\n      return value;\n    }\n  }, {\n    key: 'set',\n    value: function set$$1(subPath, value) {\n      var length = arguments.length;\n\n      if (length < 1) {\n        throw new TypeError('value argument must be set');\n      }\n      if (length === 1) {\n        var _ref2 = [undefined, subPath];\n        subPath = _ref2[0];\n        value = _ref2[1];\n      }\n      if (subPath !== undefined) {\n        return this.cursor(subPath).set(value);\n      }\n      this.__store.write(this.__cursor, value);\n      this.__emitters.set.emit(this.__cursor, {\n        path: stringifyPath(this.__cursor),\n        value: value\n      });\n    }\n  }, {\n    key: 'update',\n    value: function update(subPath, callback) {\n      var length = arguments.length;\n\n      if (length < 1) {\n        throw new TypeError('callback argument must be set');\n      }\n      if (length === 1) {\n        var _ref3 = [undefined, subPath];\n        subPath = _ref3[0];\n        callback = _ref3[1];\n      }\n      if (typeof callback !== 'function') {\n        throw new TypeError('callback argument must be a function');\n      }\n      var s = subPath === undefined ? this : this.cursor(subPath);\n      s.set(callback(s.get()));\n    }\n  }, {\n    key: '__getEmitterByName',\n    value: function __getEmitterByName(message) {\n      if (!this.__emitters[message]) {\n        throw new Error('event not allowed');\n      }\n      return this.__emitters[message];\n    }\n  }, {\n    key: 'on',\n    value: function on(message, callback) {\n      return this.__getEmitterByName(message).on(this.__cursor, callback);\n    }\n  }, {\n    key: 'addEventListener',\n    value: function addEventListener(message, callback) {\n      return this.on(message, callback);\n    }\n  }, {\n    key: 'off',\n    value: function off(message, callback) {\n      this.__getEmitterByName(message).off(this.__cursor, callback);\n    }\n  }, {\n    key: 'removeEventListener',\n    value: function removeEventListener(message, callback) {\n      this.off(message, callback);\n    }\n\n    // snapshot support\n\n  }, {\n    key: 'snapshot',\n    value: function snapshot() {\n      this.__store.snapshot();\n    }\n  }, {\n    key: 'canUndo',\n    value: function canUndo() {\n      return this.__store.canUndo();\n    }\n  }, {\n    key: 'undo',\n    value: function undo() {\n      this.__store.undo();\n      // snapshot always emit root event\n      this.__emitters.set.emit([], {\n        path: stringifyPath([]),\n        value: this.__store.read([])\n      });\n    }\n  }, {\n    key: 'canRedo',\n    value: function canRedo() {\n      return this.__store.canRedo();\n    }\n  }, {\n    key: 'redo',\n    value: function redo() {\n      this.__store.redo();\n      // snapshot always emit root event\n      this.__emitters.set.emit([], {\n        path: stringifyPath([]),\n        value: this.__store.read([])\n      });\n    }\n\n    // immutable Array operators\n\n  }, {\n    key: '__arrayOperator',\n    value: function __arrayOperator(operator, values) {\n      var array = arrayFromAllowNullOrUndefined(this.get());\n      Array.prototype[operator].apply(array, values);\n      this.set(array);\n    }\n  }, {\n    key: 'push',\n    value: function push() {\n      for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n        values[_key] = arguments[_key];\n      }\n\n      this.__arrayOperator('push', values);\n    }\n  }, {\n    key: 'pop',\n    value: function pop() {\n      this.__arrayOperator('pop');\n    }\n  }, {\n    key: 'unshift',\n    value: function unshift() {\n      for (var _len2 = arguments.length, values = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        values[_key2] = arguments[_key2];\n      }\n\n      this.__arrayOperator('unshift', values);\n    }\n  }, {\n    key: 'shift',\n    value: function shift() {\n      this.__arrayOperator('shift');\n    }\n  }, {\n    key: 'fill',\n    value: function fill(value) {\n      this.__arrayOperator('fill', [value]);\n    }\n  }, {\n    key: 'reverse',\n    value: function reverse() {\n      this.__arrayOperator('reverse');\n    }\n  }, {\n    key: 'splice',\n    value: function splice() {\n      for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        values[_key3] = arguments[_key3];\n      }\n\n      this.__arrayOperator('splice', values);\n    }\n  }]);\n  return State;\n}();\n\nexport { State, Store };\n","var global =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  (typeof global !== 'undefined' && global)\n\nvar support = {\n  searchParams: 'URLSearchParams' in global,\n  iterable: 'Symbol' in global && 'iterator' in Symbol,\n  blob:\n    'FileReader' in global &&\n    'Blob' in global &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in global,\n  arrayBuffer: 'ArrayBuffer' in global\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        var isConsumed = consumed(this)\n        if (isConsumed) {\n          return isConsumed\n        }\n        if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n          return Promise.resolve(\n            this._bodyArrayBuffer.buffer.slice(\n              this._bodyArrayBuffer.byteOffset,\n              this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n            )\n          )\n        } else {\n          return Promise.resolve(this._bodyArrayBuffer)\n        }\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : ''\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = global.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && global.location.href ? global.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer &&\n        request.headers.get('Content-Type') &&\n        request.headers.get('Content-Type').indexOf('application/octet-stream') !== -1\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers)) {\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!global.fetch) {\n  global.fetch = fetch\n  global.Headers = Headers\n  global.Request = Request\n  global.Response = Response\n}\n","module.exports = React;","module.exports = ReactDOM;"],"sourceRoot":""}